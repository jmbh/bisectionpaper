{
    "contents" : "# jonashaslbeck@gmail.com; 21-08-2015\n\n\n#### computing aggregates ####\n\n#load data\nsetwd(\"C:\\\\Users\\\\jo\\\\Dropbox\\\\LineBisec\\\\_repository\\\\4_Code\")\ndat <- readRDS(\"data_preprocessed.RDS\")\n\n\n# mean + SE of the mean for all time steps separately for exp and left\n\nl.stor <- list(\"vector\", length=3) #storage object\nfse <- function(x) sqrt(var(x)/length(x))\n\nfor(exp in 1:3) {\n  \n  exp.stor <- matrix(0,101,4)\n  \n  for(t in 0:100) {\n    \n    x_left <- dat[dat$larger == 0 & dat$exp == exp & dat$t == t,]$x\n    x_right <- dat[dat$larger == 1 & dat$exp == exp & dat$t == t,]$x\n    \n    exp.stor[t+1,1] <- mean(x_left)\n    exp.stor[t+1,2] <- mean(x_right)\n    exp.stor[t+1,3] <- qt(.975, df=(length(x_left)−1)) * fse(x_left) #error margin (confidence interval)\n    exp.stor[t+1,4] <- qt(.975, df=(length(x_right)−1)) * fse(x_right) #error margin (confidence interval)\n    \n  }\n  l.stor[[exp]] <- exp.stor\n}\n\n\n#### plot figure, version1 ####\n\npdf(\"Figure1.pdf\", height = 3, width=9)\n\nlmat <- matrix(c(1,2,3), 1, 3)\nlo <- layout(lmat, widths=c(.36,.32,.32), heights=c(6))\n\nfor(exp in 1:3) {\n\n# setting up plotting areas\n\nif(exp==1) {    \n#E1\npar(mar=c(3.5,4,3,1))\nplot(1, type='n', xlim=c(0,100), ylim=c(-6,6), ylab=\"x (Pixel)\", xlab=\"\",\n     cex.lab=1.35, main=\"(a) Aggregate area\", \n     mgp=c(2,.5,0))\n} else if (exp==2) {\n#E2\npar(mar=c(3.5,1,3,1))\nplot(1, type='n', xlim=c(0,100), ylim=c(-6,6), ylab=\"\", xlab=\"Normalized time\",\n     cex.lab=1.35, main=\"(b) Contour length\", \n     mgp=c(2,.5,0))\n} else {\n#E3\npar(mar=c(3.5,1,3,1))\nplot(1, type='n', xlim=c(0,100), ylim=c(-6,6), ylab=\"\", xlab=\"\",\n     cex.lab=1.35, main=\"(c) Subtended area\", \n     mgp=c(2,.5,0))\n}\n\n#plotting data\n\ndd <- l.stor[[exp]]\ncolnames(dd) <- c(\"x_left\",\"x_right\", \"se_xl\", \"se_xr\")\ndd <- as.data.frame(dd)\n\nlines(dd$x_left, type=\"l\", ylim=c(-8,8), lty=1, lwd=2)\nlines(dd$x_left+dd$se_xl, type=\"l\", lty=1)\nlines(dd$x_left-dd$se_xl, type=\"l\", lty=1)\n\nlines(dd$x_right, type=\"l\", lty=2, lwd=2)\nlines(dd$x_right+dd$se_xr, type=\"l\", lty=2)\nlines(dd$x_right-dd$se_xr, type=\"l\", lty=2)\n\nif(exp==2) {\n  legend(55,5.9,\n         c(\"9 Dot left: Mean\", \"9 Dot left: SE\", \"9 Dot right: Mean\", \"9 Dot right: SE\"),\n         lty=c(2,2,1,1), lwd=c(2,1,2,1), \n         cex=0.83)\n\n\n  }\n\n\n}\n\ndev.off()\n\n\n#### plot figure, version 2 ####\n\n\npdf(\"Figure1_v2.pdf\", height = 4, width=8)\n\nerror_bars <- FALSE\nlmat <- matrix(c(1,2), 1, 2)\nlo <- layout(lmat, widths=c(.355,.32), heights=c(6))\n\nfor(side in 1:2) {\n\n  #setting up plotting areas  \n  if(side==1) {  \n    par(mar=c(3.5,3,3,.5))\n    plot(1, type='n', xlim=c(0,100), ylim=c(-6,6), ylab=\"<- left      Bias(Pixel)      right ->\", \n         xlab=\"Normalized time\",\n         cex.lab=1.1, main=\"9-Dot left\", \n         mgp=c(2,.5,0))\n    #lines(0:100,rep(0,101), lty=1, col=\"grey\")\n  } else {\n    par(mar=c(3.5,.5,3,.5))\n    plot(1, type='n', xlim=c(0,100), ylim=c(-6,6), ylab=\"\", \n         xlab=\"Normalized time\",\n         cex.lab=1.1, main=\"9-Dot right\", yaxt=\"n\", \n         mgp=c(2,.5,0))\n    #lines(0:100,rep(0,101), lty=1, col=\"grey\")\n    \n      }\n\n  #plotting data\n  \n  for(exp in 1:3)\n  {\n    dd <- l.stor[[exp]]\n    colnames(dd) <- c(\"x_left\",\"x_right\", \"se_xl\", \"se_xr\")\n    lines(dd[,abs(side-3)], type=\"l\", ylim=c(-8,8), lty=exp, lwd=2)\n\n    if(error_bars==TRUE)\n    {\n      lines(dd[,side]+dd[,side+2], type=\"l\", ylim=c(-8,8), lty=exp, lwd=1)\n      lines(dd[,side]-dd[,side+2], type=\"l\", ylim=c(-8,8), lty=exp, lwd=1)\n      }\n    \n    }\n\n  #legend\n  if(side==2) {\n    legend(50,6,\n           c(\"Aggregate area\", \"Contour length\", \"Subtended area\"),\n           lty=c(1:3), \n           cex=0.83)\n  }\n  \n  }\n\ndev.off()\n\n\n\n",
    "created" : 1441287933512.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "3|26|31|1|\n34|27|91|9|\n",
    "hash" : "37553514",
    "id" : "558EC357",
    "lastKnownWriteTime" : 1441960669,
    "path" : "C:/Users/jo/Dropbox/LineBisec/_repository/4_Code/linebisec_figure.R",
    "project_path" : "linebisec_figure.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}